(this["webpackJsonpto-do-list"]=this["webpackJsonpto-do-list"]||[]).push([[0],{31:function(e,t,n){},36:function(e,t,n){},59:function(e,t,n){},95:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),r=n(53),a=n.n(r),o=(n(36),n(16)),i=n(3),u=n(6),j=(n(59),n(1)),d=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),n=t[0],s=t[1];return Object(j.jsxs)("div",{className:"home-page",children:[Object(j.jsx)("header",{className:"home-header",children:Object(j.jsx)("text",{children:"POMODOER"})}),Object(j.jsx)("div",{className:"room-form",children:Object(j.jsx)("input",{type:"text",placeholder:"enter room name...",value:n,onChange:function(e){s(e.target.value)},className:"input-field"})}),Object(j.jsx)("div",{className:"button",children:Object(j.jsx)(o.b,{to:"/".concat(n),className:"join-button",children:"join room"})})]})},l=n(18),b=n(35),O=n(25),h=n.n(O),m="newTaskItem",f="statusChange",x="clearCompleteTasks",p=function(e){var t=Object(c.useState)([]),n=Object(u.a)(t,2),s=n[0],r=n[1],a=Object(c.useState)([]),o=Object(u.a)(a,2),i=o[0],j=o[1],d=Object(c.useRef)();Object(c.useEffect)((function(){return d.current=h()("https://pomodoer.herokuapp.com/",{query:{roomId:e}}),d.current.on(m,(function(e){var t=Object(b.a)(Object(b.a)({},e),{},{ownedByCurrentUser:e.senderId===d.current.id});r((function(e){return[].concat(Object(l.a)(e),[t])})),Object(l.a)(i).push(!1),j((function(e){return[].concat(Object(l.a)(e),[!1])}))})),d.current.on(f,(function(e){var t=Object(l.a)(e.status);t[e.index]=!t[e.index],j(t)})),d.current.on(x,(function(e){for(var t=[],n=[],c=0;c<e.status.length;c++)!0===e.status[c]?t.push(c):n.push(!1);j(n);for(var s=Object(l.a)(e.tasks),a=t.length-1;a>-1;a--)s.splice(t[a],1);r(s)})),function(){d.current.disconnect()}}),[e,i]);return{tasks:s,sendTask:function(e){d.current.emit(m,{body:e,senderId:d.current.id})},statuses:i,sendStatus:function(e,t){d.current.emit(f,{index:e,status:t})},sendClear:function(e,t){d.current.emit(x,{status:e,tasks:t})}}},v=(n(31),n(17)),k=function(e){var t=e.room;console.log("roomId",t);var n=p(t),c=n.tasks,r=n.sendTask,a=n.statuses,o=n.sendStatus,i=n.sendClear,d=s.a.useState(""),l=Object(u.a)(d,2),b=l[0],O=l[1],h=function(){r(b),O("")},m=function(e){console.log("handleClick"),e.preventDefault();var t=e.currentTarget.id;o(t,a)};return Object(j.jsxs)("div",{className:"taskList-page",children:[Object(j.jsxs)("div",{className:"ToDoForm",children:[Object(j.jsx)("div",{className:"toDoFormTitle",children:Object(j.jsx)("p",{children:"TASKS:"})}),Object(j.jsx)("input",{value:b,type:"text",onChange:function(e){O(e.target.value)},placeholder:"add a task...",onKeyPress:function(e){"Enter"===e.key&&h()},className:"taskInput"}),Object(j.jsx)(v.a,{variant:"tertiary",className:"addTask",onClick:h,children:"ADD"})]}),Object(j.jsx)("div",{className:"tasks-container",children:Object(j.jsxs)("ul",{className:"checklist",children:[Object(j.jsx)("p",{children:"TO DO:"}),c.map((function(e,t){return Object(j.jsx)("li",{id:t,className:"todo ".concat(e.ownedByCurrentUser?"my-task":"other-task"," ").concat(a[t]?"strike":""),onClick:m,children:e.body},t)}))]})}),Object(j.jsx)(v.a,{className:"center",variant:"primary",onClick:function(){console.log("handleClear called"),i(a,c)},children:"CLEAR"})]})},N="timerPush",g="workRestPush",C=function(e){var t=Object(c.useState)(!1),n=Object(u.a)(t,2),s=n[0],r=n[1],a=Object(c.useState)(!0),o=Object(u.a)(a,2),i=o[0],j=o[1],d=Object(c.useState)(25),l=Object(u.a)(d,2),b=l[0],O=l[1],m=Object(c.useState)(0),f=Object(u.a)(m,2),x=f[0],p=f[1],v=Object(c.useRef)();Object(c.useEffect)((function(){if(!0===s){var e=setInterval((function(){p((function(e){return e-1}))}),1e3);return function(){clearInterval(e)}}}),[s]);Object(c.useEffect)((function(){!0===s&&(-1===x&&0!==b?(p(59),O((function(e){return e-1}))):0===b&&-1===x&&!0===i?(O(5),p(0),j(!1)):0===b&&-1===x&&!1===i&&(O(25),p(0),j(!0)))})),Object(c.useEffect)((function(){return v.current=h()("https://pomodoer.herokuapp.com/",{query:{roomId:e}}),v.current.on(N,(function(e){r(!e.start)})),v.current.on(g,(function(e){var t=e.work;j(!t),!0===t?(O(5),p(0)):(O(25),p(0))})),function(){v.current.disconnect()}}),[e,s]);return{start:s,sendStart:function(e){v.current.emit(N,{start:e})},work:i,sendWork:function(e){v.current.emit(g,{work:e})},minutes:b,seconds:x}},S=function(e){var t,n=e.room,c=C(n),s=c.start,r=c.sendStart,a=c.work,o=c.sendWork,i=c.minutes,u=c.seconds,d=s?"STOP":"START",l=a?"REST":"WORK";return t=u<10?"0"+u:u,Object(j.jsx)("section",{children:Object(j.jsx)("section",{className:"timerTimer",children:Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"buttons",children:[Object(j.jsx)(v.a,{variant:"secondary",onClick:function(){return r(s)},children:d})," ",Object(j.jsx)(v.a,{variant:"secondary",onClick:function(){o(a)},children:l})," "]}),Object(j.jsx)("h1",{className:"timerMargin",children:i+":"+t})]})})})},T=function(e){var t=e.match.params.roomId;return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("div",{className:"App-header",children:Object(j.jsx)("header",{className:"collab-header",children:Object(j.jsx)(o.b,{to:"/",className:"home-button",children:Object(j.jsx)("h1",{className:"pomodoer",children:"POMODOER"})})})}),Object(j.jsx)("div",{className:"timer",children:Object(j.jsx)(S,{room:t})}),Object(j.jsxs)("h2",{children:["ROOM: ",t]}),Object(j.jsx)(k,{room:t})]})};var y=function(){return Object(j.jsx)(o.a,{children:Object(j.jsxs)(i.c,{children:[Object(j.jsx)(i.a,{exact:!0,path:"/",component:d}),Object(j.jsx)(i.a,{exact:!0,path:"/:roomId",component:T})]})})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,96)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),s(e),r(e),a(e)}))};a.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(y,{})}),document.getElementById("root")),I()}},[[95,1,2]]]);
//# sourceMappingURL=main.62326c9e.chunk.js.map