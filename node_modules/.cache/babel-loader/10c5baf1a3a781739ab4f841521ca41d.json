{"ast":null,"code":"import _slicedToArray from\"/Users/bubird/Documents/GitHub/pomodoer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect}from'react';import Button from'react-bootstrap/Button';import useTimer from'./useTimer';import'./ToDoList.css';import useSound from'use-sound';import audio from'./alarm_chime.mp3';// import { __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED } from 'react-dom';\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var context=new AudioContext();var OurTimer=function OurTimer(props){var roomId=props.room;var _useTimer=useTimer(roomId),start=_useTimer.start,sendStart=_useTimer.sendStart,work=_useTimer.work,sendWork=_useTimer.sendWork,display=_useTimer.display,alarmSound=_useTimer.alarmSound,infoReceived=_useTimer.infoReceived;var _useSound=useSound(audio,{volume:0.75}),_useSound2=_slicedToArray(_useSound,1),playSound=_useSound2[0];var conditionalPlay=function conditionalPlay(){console.log(alarmSound);if(alarmSound===true){playSound();}};useEffect(conditionalPlay,[alarmSound]);//click handlers\nvar handleStart=function handleStart(){context.resume();sendStart(start);};var handleWork=function handleWork(){sendWork(work);};//variables for display\nvar startStatus=start?'STOP':'START';var workStatus=work?'REST':'WORK';//adds zero when seconds gets into single digits\nif(infoReceived===false){return/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsx(\"section\",{className:\"timerTimer\"})});}else{var minutes=Math.floor(display/1000/60);var seconds=Math.floor(display/1000%60);var secondsDisplay;if(seconds<10){secondsDisplay='0'+seconds;}else{secondsDisplay=seconds;}var time=minutes+':'+secondsDisplay;var newTitle=time+' POMODOER';if(document.title!==newTitle){document.title=newTitle;}return/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsx(\"section\",{className:\"timerTimer\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"buttons\",children:[/*#__PURE__*/_jsxs(Button,{variant:\"secondary\",className:\"startButton\",onClick:handleStart,children:[startStatus,\" \"]}),' ',/*#__PURE__*/_jsx(Button,{variant:\"secondary\",className:\"workButton\",onClick:handleWork,children:workStatus}),' ']}),/*#__PURE__*/_jsx(\"h1\",{className:\"timerMargin\",children:time})]})})});}};export default OurTimer;","map":{"version":3,"sources":["/Users/bubird/Documents/GitHub/pomodoer/src/Timer.js"],"names":["React","useEffect","Button","useTimer","useSound","audio","context","AudioContext","OurTimer","props","roomId","room","start","sendStart","work","sendWork","display","alarmSound","infoReceived","volume","playSound","conditionalPlay","console","log","handleStart","resume","handleWork","startStatus","workStatus","minutes","Math","floor","seconds","secondsDisplay","time","newTitle","document","title"],"mappings":"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","sourcesContent":["import React, {useEffect} from 'react';\nimport Button from 'react-bootstrap/Button';\nimport useTimer from './useTimer';\nimport './ToDoList.css'\nimport useSound from 'use-sound';\nimport audio from './alarm_chime.mp3'\n// import { __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED } from 'react-dom';\n\nvar context = new AudioContext();\n\nconst OurTimer = (props) => {\n  const roomId =  props.room;\n  const {start, sendStart, work, sendWork, display, alarmSound, infoReceived} = useTimer(roomId)\n\n  \n  const [playSound] = useSound(\n    audio,\n    { volume: 0.75 }\n  );\n\n  const conditionalPlay = () => {\n    console.log(alarmSound)\n    if (alarmSound===true) {\n      playSound()\n    }\n  }\n\n  useEffect(conditionalPlay,[alarmSound])\n\n  //click handlers\n  const handleStart = () => {\n    context.resume()\n    sendStart(start);\n  }\n  const handleWork = () => {\n    sendWork(work)\n  }\n\n  //variables for display\n  let startStatus = (start ? 'STOP' : 'START');\n  let workStatus = (work ? 'REST' : 'WORK');\n  //adds zero when seconds gets into single digits\n\n\n  if (infoReceived === false) {\n    return (\n      <section>\n\n          <section className=\"timerTimer\">\n  \n        </section> \n      </section>\n    )\n  } else {\n    const minutes = Math.floor(display/1000/60);\n    const seconds = Math.floor((display/1000) % 60);\n    let secondsDisplay;\n    if (seconds < 10) {\n      secondsDisplay = '0'+seconds\n    } else {\n      secondsDisplay = seconds\n    }\n    \n    const time = minutes + ':' + secondsDisplay\n    const newTitle =  time + ' POMODOER'\n    if (document.title !== newTitle) {\n      document.title = newTitle;\n    }\n    return (\n    \n      <section>\n          \n          <section className=\"timerTimer\">\n            <div>\n              <div className = 'buttons'>\n                <Button variant=\"secondary\" className='startButton' onClick={handleStart} >{startStatus} </Button>{' '}\n                <Button variant=\"secondary\" className='workButton'onClick ={handleWork} >{workStatus}</Button>{' '} \n              </div> \n              <h1 className='timerMargin'>{time}</h1>\n            </div>\n  \n        </section> \n      </section>\n    )\n  }\n}\n\nexport default OurTimer\n"]},"metadata":{},"sourceType":"module"}