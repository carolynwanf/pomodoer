{"ast":null,"code":"var _jsxFileName = \"/Users/bubird/Documents/GitHub/pomodoer/src/Collab.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport useCollab from './useCollab';\nimport ToDoList from \"./ToDoList\";\nimport './ToDoList.css';\nimport Button from 'react-bootstrap/Button';\nimport { Link } from 'react-router-dom';\nimport OurTimer from './Timer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Collab = props => {\n  _s();\n\n  const {\n    roomId\n  } = props.match.params;\n  const {\n    databasePassword,\n    sendPassword\n  } = useCollab(roomId);\n  const [password, setPassword] = useState('');\n  const [askForPassword, setAskForPassword] = useState(true);\n  const [wrongPassword, setWrongPassword] = useState(false);\n  const [display, setDisplay] = useState(true);\n  var roomStatus = 'ROOM:' + roomId; // updates password with the value from the \n\n  const handleChange = e => {\n    setPassword(e.target.value);\n  }; // if click room, displays password\n\n\n  const handlePress = () => {\n    const newDisplay = !display;\n    roomStatus = newDisplay ? 'ROOM' + roomId : databasePassword;\n    setDisplay(newDisplay);\n  }; // sends task to server so it shows up for both people\n\n\n  const handleSubmit = () => {\n    // sendTask(newTask);\n    // setNewTask('')\n    // if password = password from database, set askForPassword to false\n    // if there is no password in database, send {password} to database database and set askForPassword to false\n    // else, if password !== password from database, set askForPassword to true + display \"wrong password\"\n    if (password === databasePassword) {\n      setAskForPassword(false);\n    } else if (databasePassword === 'nothing yet') {\n      setAskForPassword(false);\n      sendPassword(password);\n    } else if (password !== databasePassword) {\n      setWrongPassword(true);\n    }\n  }; // makes it so that hitting the enter key also works for submission\n\n\n  const handleEnter = e => {\n    if (e.key === 'Enter') {\n      handleSubmit();\n    }\n  };\n\n  if (askForPassword && !wrongPassword) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"passwordPage\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \" ENTER PASSWORD:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"passwordForm\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: handleChange,\n          value: password,\n          type: \"text\",\n          placeholder: \"enter a password...\",\n          onKeyDown: handleEnter,\n          className: \"passwordBar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"tertiary\",\n          className: \"addTask\",\n          onClick: handleSubmit,\n          children: \"ENTER\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this);\n  } else if (wrongPassword && askForPassword) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"passwordPage\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \" ENTER PASSWORD:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"passwordForm\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: handleChange,\n          value: password,\n          type: \"text\",\n          placeholder: \"enter a password...\",\n          onKeyDown: handleEnter,\n          className: \"passwordBar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"tertiary\",\n          className: \"addTask\",\n          onClick: handleSubmit,\n          children: \"ENTER\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"alert\",\n        children: \"WRONG PASSWORD\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 10\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App-header\",\n        children: /*#__PURE__*/_jsxDEV(\"header\", {\n          className: \"collab-header\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: `/`,\n            className: \"home-button\",\n            children: /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"pomodoer\",\n              children: \"POMODOER\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"timer\",\n        children: /*#__PURE__*/_jsxDEV(OurTimer, {\n          room: roomId\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        onClick: handlePress,\n        children: roomStatus\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ToDoList, {\n        room: roomId\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this);\n  }\n};\n\n_s(Collab, \"Shn7uFdEh5rZzErgy+exqLy+iJY=\", false, function () {\n  return [useCollab];\n});\n\n_c = Collab;\nexport default Collab;\n\nvar _c;\n\n$RefreshReg$(_c, \"Collab\");","map":{"version":3,"sources":["/Users/bubird/Documents/GitHub/pomodoer/src/Collab.js"],"names":["React","useState","useEffect","useRef","useCollab","ToDoList","Button","Link","OurTimer","Collab","props","roomId","match","params","databasePassword","sendPassword","password","setPassword","askForPassword","setAskForPassword","wrongPassword","setWrongPassword","display","setDisplay","roomStatus","handleChange","e","target","value","handlePress","newDisplay","handleSubmit","handleEnter","key"],"mappings":"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","sourcesContent":["import React, {useState,useEffect,useRef} from 'react';\nimport useCollab from './useCollab';\nimport ToDoList from \"./ToDoList\"\nimport './ToDoList.css';\nimport Button from 'react-bootstrap/Button'\n\nimport {Link} from 'react-router-dom'\n\nimport OurTimer from './Timer';\n\nconst Collab = (props) => {\n  const {roomId} =  props.match.params;\n  const {databasePassword, sendPassword} = useCollab(roomId)\n  const [password, setPassword] = useState('')\n  const [askForPassword, setAskForPassword] = useState(true);\n  const [wrongPassword, setWrongPassword] = useState(false);\n  const [display, setDisplay] = useState(true)\n\n  var roomStatus = 'ROOM:' + roomId\n\n  // updates password with the value from the \n  const handleChange = (e) => {\n      setPassword(e.target.value);\n  }\n\n  // if click room, displays password\n  const handlePress = () => {\n    const newDisplay = !display\n    roomStatus = newDisplay ? 'ROOM'+roomId : databasePassword\n    setDisplay(newDisplay)\n  }\n\n\n  // sends task to server so it shows up for both people\n  const handleSubmit = () => {\n    // sendTask(newTask);\n    // setNewTask('')\n    // if password = password from database, set askForPassword to false\n    // if there is no password in database, send {password} to database database and set askForPassword to false\n    // else, if password !== password from database, set askForPassword to true + display \"wrong password\"\n    if (password === databasePassword) {\n      setAskForPassword(false)\n    } else if (databasePassword === 'nothing yet') {\n      setAskForPassword(false)\n      sendPassword(password)\n    } else if (password !== databasePassword){\n      setWrongPassword(true)\n    }\n  }\n\n  // makes it so that hitting the enter key also works for submission\n  const handleEnter = (e) => {\n      if (e.key === 'Enter') {\n          handleSubmit()\n     }\n  }\n\n  if (askForPassword && !wrongPassword) {\n    return (\n      <div className='passwordPage'>\n        <h3> ENTER PASSWORD:</h3>\n        <div className = 'passwordForm'>\n          <input\n            onChange = {handleChange}\n            value = {password}\n            type='text'\n            placeholder='enter a password...'\n            onKeyDown = {handleEnter}\n            className = 'passwordBar'\n          ></input>\n          <Button variant='tertiary' className = 'addTask' onClick={handleSubmit}>ENTER</Button>\n        </div>\n      </div>\n    );\n  } else if (wrongPassword && askForPassword) {\n    return (\n      <div className='passwordPage'>\n        <h3> ENTER PASSWORD:</h3>\n        <div className = 'passwordForm'>\n          <input\n            onChange = {handleChange}\n            value = {password}\n            type='text'\n            placeholder='enter a password...'\n            onKeyDown = {handleEnter}\n            className = 'passwordBar'\n          ></input>\n          <Button variant='tertiary' className = 'addTask' onClick={handleSubmit}>ENTER</Button>\n        </div>\n         <p className='alert'>WRONG PASSWORD</p>\n      </div>\n    ); \n  } else {\n    return (\n      <div className=\"App\">\n          <div className=\"App-header\">\n            <header className='collab-header'>\n              <Link to ={`/`} className='home-button'> \n                <h1 className='pomodoer'>\n                  POMODOER\n                </h1> \n              </Link>\n            </header>\n         </div>\n          <div className='timer'>\n            <OurTimer room={roomId}/> \n          </div>\n          <h2 onClick = {handlePress}>{roomStatus}</h2>\n          <ToDoList room={roomId}/>\n        \n      </div>\n    );\n  }\n}\n\nexport default Collab;"]},"metadata":{},"sourceType":"module"}