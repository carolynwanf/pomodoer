{"ast":null,"code":"import _slicedToArray from\"/Users/bubird/Documents/GitHub/pomodoer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useRef}from'react';import useCollab from'./useCollab';import ToDoList from\"./ToDoList\";import'./ToDoList.css';import Button from'react-bootstrap/Button';import{Link}from'react-router-dom';import OurTimer from'./Timer';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Collab=function Collab(props){var roomId=props.match.params.roomId;var _useCollab=useCollab(roomId),databasePassword=_useCollab.databasePassword,sendPassword=_useCollab.sendPassword;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),password=_useState2[0],setPassword=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),askForPassword=_useState4[0],setAskForPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),wrongPassword=_useState6[0],setWrongPassword=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),display=_useState8[0],setDisplay=_useState8[1];// updates password with the value from the \nvar handleChange=function handleChange(e){setPassword(e.target.value);};// if click room, displays password\nvar handlePress=function handlePress(){var newDisplay=!display;// roomStatus = newDisplay ? 'ROOM'+roomId : databasePassword\nsetDisplay(newDisplay);console.log('handlePress',roomStatus);};var roomStatus=display?'ROOM: '+roomId:'PASSWORD: '+databasePassword;// sends task to server so it shows up for both people\nvar handleSubmit=function handleSubmit(){// sendTask(newTask);\n// setNewTask('')\n// if password = password from database, set askForPassword to false\n// if there is no password in database, send {password} to database database and set askForPassword to false\n// else, if password !== password from database, set askForPassword to true + display \"wrong password\"\nif(password===databasePassword){setAskForPassword(false);}else if(databasePassword==='nothing yet'){setAskForPassword(false);sendPassword(password);}else if(password!==databasePassword){setWrongPassword(true);}};// makes it so that hitting the enter key also works for submission\nvar handleEnter=function handleEnter(e){if(e.key==='Enter'){handleSubmit();}};if(askForPassword&&!wrongPassword){return/*#__PURE__*/_jsxs(\"div\",{className:\"passwordPage\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\" ENTER PASSWORD:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"passwordForm\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,value:password,type:\"text\",placeholder:\"enter a password...\",onKeyDown:handleEnter,className:\"passwordBar\"}),/*#__PURE__*/_jsx(Button,{variant:\"tertiary\",className:\"addTask\",onClick:handleSubmit,children:\"ENTER\"})]})]});}else if(wrongPassword&&askForPassword){return/*#__PURE__*/_jsxs(\"div\",{className:\"passwordPage\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\" ENTER PASSWORD:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"passwordForm\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,value:password,type:\"text\",placeholder:\"enter a password...\",onKeyDown:handleEnter,className:\"passwordBar\"}),/*#__PURE__*/_jsx(Button,{variant:\"tertiary\",className:\"addTask\",onClick:handleSubmit,children:\"ENTER\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"alert\",children:\"WRONG PASSWORD\"})]});}else{return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"App-header\",children:/*#__PURE__*/_jsx(\"header\",{className:\"collab-header\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"home-button\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"pomodoer\",children:\"POMODOER\"})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"timer\",children:/*#__PURE__*/_jsx(OurTimer,{room:roomId})}),/*#__PURE__*/_jsx(\"h2\",{className:\"room\",onClick:handlePress,children:roomStatus}),/*#__PURE__*/_jsx(ToDoList,{room:roomId})]});}};export default Collab;","map":{"version":3,"sources":["/Users/bubird/Documents/GitHub/pomodoer/src/Collab.js"],"names":["React","useState","useEffect","useRef","useCollab","ToDoList","Button","Link","OurTimer","Collab","props","roomId","match","params","databasePassword","sendPassword","password","setPassword","askForPassword","setAskForPassword","wrongPassword","setWrongPassword","display","setDisplay","handleChange","e","target","value","handlePress","newDisplay","console","log","roomStatus","handleSubmit","handleEnter","key"],"mappings":"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","sourcesContent":["import React, {useState,useEffect,useRef} from 'react';\nimport useCollab from './useCollab';\nimport ToDoList from \"./ToDoList\"\nimport './ToDoList.css';\nimport Button from 'react-bootstrap/Button'\n\nimport {Link} from 'react-router-dom'\n\nimport OurTimer from './Timer';\n\nconst Collab = (props) => {\n  const {roomId} =  props.match.params;\n  const {databasePassword, sendPassword} = useCollab(roomId)\n  const [password, setPassword] = useState('')\n  const [askForPassword, setAskForPassword] = useState(true);\n  const [wrongPassword, setWrongPassword] = useState(false);\n  const [display, setDisplay] = useState(true)\n\n\n  // updates password with the value from the \n  const handleChange = (e) => {\n      setPassword(e.target.value);\n  }\n\n  // if click room, displays password\n  const handlePress = () => {\n    const newDisplay = !display\n    // roomStatus = newDisplay ? 'ROOM'+roomId : databasePassword\n    setDisplay(newDisplay)\n    console.log('handlePress',roomStatus)\n  }\n\n  let roomStatus = display ? 'ROOM: '+roomId : 'PASSWORD: '+databasePassword \n\n\n  // sends task to server so it shows up for both people\n  const handleSubmit = () => {\n    // sendTask(newTask);\n    // setNewTask('')\n    // if password = password from database, set askForPassword to false\n    // if there is no password in database, send {password} to database database and set askForPassword to false\n    // else, if password !== password from database, set askForPassword to true + display \"wrong password\"\n    if (password === databasePassword) {\n      setAskForPassword(false)\n    } else if (databasePassword === 'nothing yet') {\n      setAskForPassword(false)\n      sendPassword(password)\n    } else if (password !== databasePassword){\n      setWrongPassword(true)\n    }\n  }\n\n  // makes it so that hitting the enter key also works for submission\n  const handleEnter = (e) => {\n      if (e.key === 'Enter') {\n          handleSubmit()\n     }\n  }\n\n  if (askForPassword && !wrongPassword) {\n    return (\n      <div className='passwordPage'>\n        <h3> ENTER PASSWORD:</h3>\n        <div className = 'passwordForm'>\n          <input\n            onChange = {handleChange}\n            value = {password}\n            type='text'\n            placeholder='enter a password...'\n            onKeyDown = {handleEnter}\n            className = 'passwordBar'\n          ></input>\n          <Button variant='tertiary' className = 'addTask' onClick={handleSubmit}>ENTER</Button>\n        </div>\n      </div>\n    );\n  } else if (wrongPassword && askForPassword) {\n    return (\n      <div className='passwordPage'>\n        <h3> ENTER PASSWORD:</h3>\n        <div className = 'passwordForm'>\n          <input\n            onChange = {handleChange}\n            value = {password}\n            type='text'\n            placeholder='enter a password...'\n            onKeyDown = {handleEnter}\n            className = 'passwordBar'\n          ></input>\n          <Button variant='tertiary' className = 'addTask' onClick={handleSubmit}>ENTER</Button>\n        </div>\n         <p className='alert'>WRONG PASSWORD</p>\n      </div>\n    ); \n  } else {\n    return (\n      <div className=\"App\">\n          <div className=\"App-header\">\n            <header className='collab-header'>\n              <Link to ={`/`} className='home-button'> \n                <h1 className='pomodoer'>\n                  POMODOER\n                </h1> \n              </Link>\n            </header>\n         </div>\n          <div className='timer'>\n            <OurTimer room={roomId}/> \n          </div>\n          <h2 className='room' onClick = {handlePress}>{roomStatus}</h2>\n          <ToDoList room={roomId}/>\n        \n      </div>\n    );\n  }\n}\n\nexport default Collab;"]},"metadata":{},"sourceType":"module"}